"use strict";var dialogCount=0;Component({properties:{},data:{selectTimeRotate:0,top:0,left:0},relations:{"../scDialog/sc-dialog":{type:"child"}},externalClasses:["sc-class"],ready:function(){},methods:{touchmove:function(t){console.log(t)},hourtouchmove:function(t){var e=this;if(this.data.px){var a=t.touches[0],o=a.clientX,i=a.clientY;o-=t.target.offsetLeft-this.data.timePx,i-=t.target.offsetTop-this.data.timePy;var s=parseInt(this.getAngle(this.data.px,this.data.py,o,i));(s-15)%30==0&&(s-=15,this.setData({selectTimeRotate:s}))}else this._queryMultipleNodes(".time-hour").then(function(a){e.data.timePx=a[0].left+130,e.data.timePy=a[0].top+130,e.setData({top:e.data.timePy,left:e.data.timePx}),e._queryMultipleNodes(".time-hour-item-select .time-hour-item-number").then(function(a){e.data.px=a[0].left+16-e.data.timePx,e.data.py=a[0].top+16-e.data.timePy;var o=t.touches[0],i=o.clientX,s=o.clientY,n=e.getAngle(e.data.px,e.data.py,i,s);e.setData({selectTimeRotate:n})})})},_queryMultipleNodes:function(t){var e=this;return new Promise(function(a,o){var i=e.createSelectorQuery();i.select(t).boundingClientRect(),i.selectViewport().scrollOffset(),i.exec(function(t){a(t)})})},getAngle:function(t,e,a,o){return console.log("起始点",t,e),console.log("结束点",a,o),Math.atan2(o-e,a-t)/Math.PI*180}}});