"use strict";var _slicedToArray=function(){function t(t,e){var i=[],o=!0,n=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done)&&(i.push(s.value),!e||i.length!==e);o=!0);}catch(t){n=!0,a=t}finally{try{!o&&l.return&&l.return()}finally{if(n)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Component({properties:{overlay:{type:Boolean,value:!0},overlayClose:{type:Boolean,value:!0},transition:{type:String,value:"fadeIn fadeOut"}},data:{show:!1,opened:!1,opening:!1,closed:!0,closing:!1,allowScroll:!0,scrollHeight:"auto",transitionO:{fadeIn:"sc-mask-fadeIn",fadeOut:"sc-mask-fadeOut",slideTopIn:"sc-dialog-slideTopIn",slideTopOut:"sc-dialog-slideTopOut",slideBottomIn:"sc-dialog-slideBottomIn",slideBottomOut:"sc-dialog-slideBottomOut",slideLeftIn:"sc-dialog-slideLeftIn",slideLeftOut:"sc-dialog-slideLeftOut",slideRightIn:"sc-dialog-slideRightIn",slideRightOut:"sc-dialog-slideRightOut"},tin:null,tout:null},ready:function(){var t=this.properties.transition.split(" "),e=_slicedToArray(t,2),i=e[0],o=e[1],n=this.data.transitionO;this.setData({tin:n[i],tout:n[o]})},relations:{},externalClasses:["sc-class"],methods:{_catchtouchmove:function(){return!0},_closeDialog:function(){this.setData({closing:!0}),this.triggerEvent("close",{})},_animationend:function(t){var e=this,i=t.detail.animationName;"dialogFadeIn"!==i&&"maskFadeIn"!==i||this._queryMultipleNodes(".dialog > .sc-dialog").then(function(t){e.setData({scrollHeight:t[0].height+"px",opening:!1,opened:!0,closed:!1}),e.triggerEvent("opened",{})}),"dialogFadeOut"!==i&&"maskFadeOut"!==i||(this.setData({closing:!1,closed:!0,opened:!1,show:!1}),this.triggerEvent("closed",{}))},_queryMultipleNodes:function(t){var e=this;return new Promise(function(i,o){var n=wx.createSelectorQuery().in(e);n.select(t).boundingClientRect(),n.exec(function(t){i(t)})})}}});