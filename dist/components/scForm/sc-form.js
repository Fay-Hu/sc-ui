"use strict";Component({properties:{reportSubmit:{type:Boolean,value:!1}},relations:{"../scButton/sc-button":{type:"child"},"../scCheckboxGroup/sc-checkbox-group":{type:"child"},"../scInput/sc-input":{type:"child"},"../scTextarea/sc-textarea":{type:"child"},"../scSwitch/sc-switch":{type:"child"},"../scRadioGroup/sc-radio-group":{type:"child"}},data:{rippleList:[],rippleId:0,rippleDeleteCount:0,rippleDeleteTimer:null,rippleColor:"#ffffff"},externalClasses:["sc-form-class"],ready:function(){this.fomrControls=this._getAllControl()},methods:{_getAllControl:function(){return{checkboxGroups:this.getRelationNodes("../scCheckboxGroup/sc-checkbox-group"),inputs:this.getRelationNodes("../scInput/sc-input"),textareas:this.getRelationNodes("../scTextarea/sc-textarea"),switchs:this.getRelationNodes("../scSwitch/sc-switch"),radioGroups:this.getRelationNodes("../scRadioGroup/sc-radio-group")}},_formSubmit:function(t){var e=this.fomrControls,i=e.checkboxGroups,a=e.inputs,s=e.textareas,r=e.switchs,o=e.radioGroups,l={formId:t.detail.formId};a.length>0&&a.map(function(t){Object.defineProperty(l,t.data.name,{writable:!1,value:t.data.inputValue})}),s.length>0&&s.map(function(t){Object.defineProperty(l,t.data.name,{writable:!1,value:t.data.inputValue})}),o.length>0&&o.map(function(t){Object.defineProperty(l,t.data.name,{writable:!1,value:t.data.value})}),r.length>0&&r.map(function(t){Object.defineProperty(l,t.data.name,{writable:!1,value:t.data.value})}),i.length>0&&i.map(function(t){Object.defineProperty(l,t.data.name,{writable:!1,value:t.data.value})}),this.triggerEvent("submit",{value:l},{bubbles:!0,composed:!0})},_addRipple:function(t,e){var i=this;this.properties.disabled||this._queryMultipleNodes(".sc-btn-class").then(function(a){var s=a[0],r=a[1],o=parseInt(s.width),l=parseInt(s.height),p=o>l?o:l,n=t.detail.x-(s.left+r.scrollLeft)-p/2,c=t.detail.y-(s.top+r.scrollTop)-p/2;i.data.rippleList.push({rippleId:"ripple-"+i.data.rippleId++,width:p,height:p,left:n,top:c,startAnimate:!0,holdAnimate:e||!1}),i.setData({rippleList:i.data.rippleList})})},_queryMultipleNodes:function(t){var e=this;return new Promise(function(i,a){var s=e.createSelectorQuery();s.select(t).boundingClientRect(),s.selectViewport().scrollOffset(),s.exec(function(t){i(t)})})},_scbuttonrippleAnimationend:function(){function t(){this.data.rippleList.splice(0,this.data.rippleDeleteCount),this.setData({rippleList:this.data.rippleList}),clearTimeout(this.data.timer),this.data.timer=null,this.data.rippleDeleteCount=0}this.data.rippleDeleteCount++,this.data.timer?(clearTimeout(this.data.timer),this.data.timer=setTimeout(t.bind(this),300)):this.data.timer=setTimeout(t.bind(this),300)},_longPress:function(t){this._addRipple(t,!0)},_touchend:function(t){var e=this.data.rippleList.slice(-1)[0];e&&e.holdAnimate&&(this.data.rippleList.pop(),this.setData({rippleList:this.data.rippleList}))}}});